{"version":3,"file":"static/js/991.d4baaa61.chunk.js","mappings":"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","sources":["components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","pages/Movies.jsx","servisec/Api.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { AiOutlineSearch } from 'react-icons/ai';\nexport const Wrapper = styled.div`\n  z-index: 1100;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  color: #fff;\n`;\n\nexport const StyledForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const StyledSearchFormBtn = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 30px;\n  border: 0;\n  /* background-image: url('../../icons/search_FILL0_wght400_GRAD0_opsz48.svg'); */\n  background-size: 80%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\nexport const StyledSpan = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\nexport const StyledInput = styled.input`\n  height: 100%;\n  display: inline-block;\n  width: 100%;\n  vertical-align: middle;\n  font: inherit;\n  font-size: 16px;\n  border: 1px solid #cacaca;\n  border-radius: 3px;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  size: 50px;\n  &::placeholder {\n    font: inherit;\n    font-size: 16px;\n  }\n`;\n\nexport const Icon = styled(AiOutlineSearch)`\n  width: 20px;\n  height: 20px;\n  vertical-align: middle;\n`;\n","import { useState } from 'react';\nimport {\n  Wrapper,\n  StyledForm,\n  StyledSearchFormBtn,\n  StyledSpan,\n  StyledInput,\n  Icon,\n} from './SearchBar.styled';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleInputValue = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  return (\n    <Wrapper>\n      <StyledForm onSubmit={handleFormSubmit}>\n        <StyledInput\n          name=\"search\"\n          onChange={handleInputValue}\n          value={searchQuery}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          required\n        />\n        <StyledSearchFormBtn type=\"submit\">\n          <Icon />\n          <StyledSpan>Search</StyledSpan>\n        </StyledSearchFormBtn>\n      </StyledForm>\n    </Wrapper>\n  );\n};\n\nexport default SearchBar;\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams, Outlet } from 'react-router-dom';\nimport SearchBar from '../components/SearchBar/SearchBar';\nimport { fetchQuery } from 'servisec/Api';\nimport Loader from 'components/Loader/Loader';\n\nexport default function Movies() {\n  const [films, setfilms] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const fetchFilmsQuery = async () => {\n      try {\n        setLoading(true);\n        const result = await fetchQuery(query);\n        setfilms(result);\n      } catch (e) {\n        setError(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (query) {\n      fetchFilmsQuery(query);\n    }\n  }, [query]);\n\n  const onSubmit = query => {\n    setSearchParams({ query });\n  };\n  return (\n    <div>\n      <SearchBar onSubmit={onSubmit} />\n      {films.length > 0 && (\n        <ul>\n          {films.map(({ id, title, name }) => (\n            <li key={id}>\n              <Link\n                to={{\n                  pathname: `/movies/${id}`,\n                }}\n              >\n                {title ?? name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {loading && <Loader />}\n      {error && <p>Somethink went wrong</p>}\n      <Outlet />\n    </div>\n  );\n}\n","const API_KEY = 'b380555e67634a1415a3aefaff7f3f8c';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport function fetchTrending() {\n  const URL = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`;\n  return fetch(URL)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Something went wrong!`));\n    })\n    .then(response => {\n      return response.results;\n    });\n}\n\nexport function fetchMovie(movieId) {\n  const URL = `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`;\n  return fetch(URL).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Something weent wrong!`));\n  });\n}\n\nexport function fetchMovieCast(movieId) {\n  const URL = `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`;\n  return fetch(URL).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Something weent wrong!`));\n  });\n}\n\nexport function fetchMovieReview(movieId) {\n  const URL = `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`;\n  return fetch(URL).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Something weent wrong!`));\n  });\n}\n\nexport function fetchQuery(query) {\n  const URL = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`;\n  return fetch(URL)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Something weent wrong!`));\n    })\n    .then(response => {\n      return response.results;\n    });\n}\n"],"names":["Wrapper","styled","StyledForm","StyledSearchFormBtn","StyledSpan","StyledInput","Icon","AiOutlineSearch","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","name","onChange","currentTarget","value","toLowerCase","type","autoComplete","autoFocus","placeholder","required","Movies","films","setfilms","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchFilmsQuery","fetchQuery","result","length","map","id","title","to","pathname","Loader","API_KEY","BASE_URL","fetchTrending","URL","fetch","then","response","ok","json","Promise","reject","Error","results","fetchMovie","movieId","fetchMovieCast","fetchMovieReview"],"sourceRoot":""}